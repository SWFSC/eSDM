<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate predicted abundance — model_abundance • eSDM</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate predicted abundance — model_abundance" />
<meta property="og:description" content="Calculates the predicted abundance by multiplying the density prediction values by prediction polygon areas" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eSDM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/example-analysis.html">Example analysis - Woodman et al 2019</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/smwoodman/eSDM">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate predicted abundance</h1>
    <small class="dont-index">Source: <a href='https://github.com/smwoodman/eSDM/blob/master/R/model_abundance.R'><code>R/model_abundance.R</code></a></small>
    <div class="hidden name"><code>model_abundance.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates the predicted abundance by multiplying the density prediction values by prediction polygon areas</p>
    </div>

    <pre class="usage"><span class='fu'>model_abundance</span>(<span class='no'>x</span>, <span class='no'>dens.idx</span>, <span class='kw'>sum.abund</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>object of class <code>sf</code>; SDM with density predictions.
Must have a valid crs code</p></td>
    </tr>
    <tr>
      <th>dens.idx</th>
      <td><p>name or index of column(s) in <code>x</code> with density predictions.
Can be a character vector (column names) or numeric vector (column indices)</p></td>
    </tr>
    <tr>
      <th>sum.abund</th>
      <td><p>logical; whether or not to sum all of the predicted abundances</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>sum.abund == TRUE</code>, then a vector of the same length as <code>dens.idx</code>
  representing the predicted abundance for the density values in each column.</p>
<p>If <code>sum.abund == FALSE</code> and the length of <code>dens.idx</code> is 1,
  then a numeric vector with the predicted abundance of each prediction polygon of <code>x</code>.</p>
<p>If <code>sum.abund == FALSE</code> and the length of <code>dens.idx</code> is greater than 1,
  then a data frame with <code><a href='https://rdrr.io/r/base/length.html'>length(dens.idx)</a></code> columns of the predicted abundance of prediction polygons</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Multiplies the values in the specified column(s) (i.e. the density predictions)
  by the area in square kilometers of their corresponding prediction polygon.
  The area of each prediction polygon is calculated using <code>st_area</code> from <code><a href='https://rdrr.io/pkg/sf/man/geos_measures.html'>geos_measures</a></code>.
  x must have a valid crs code to calculate area for these abundance calculations.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>model_abundance</span>(<span class='no'>preds.1</span>, <span class='st'>"Density"</span>)</div><div class='output co'>#&gt;  Density 
#&gt; 113746.5 </div><div class='input'><span class='fu'>model_abundance</span>(<span class='no'>preds.1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; [1] 113746.5 113746.5</div><div class='input'><span class='fu'>model_abundance</span>(<span class='no'>preds.1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>), <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;         1.abund     1.abund
#&gt; 1     29.694694   29.694694
#&gt; 2      9.206602    9.206602
#&gt; 3     21.603063   21.603063
#&gt; 4      9.503845    9.503845
#&gt; 5     11.984481   11.984481
#&gt; 6     15.298465   15.298465
#&gt; 7      7.686818    7.686818
#&gt; 8      9.459501    9.459501
#&gt; 9     13.948897   13.948897
#&gt; 10    48.275490   48.275490
#&gt; 11    81.225831   81.225831
#&gt; 12    37.756306   37.756306
#&gt; 13    21.109041   21.109041
#&gt; 14    29.351666   29.351666
#&gt; 15   308.464979  308.464979
#&gt; 16   510.867289  510.867289
#&gt; 17   557.909091  557.909091
#&gt; 18   653.772747  653.772747
#&gt; 19   438.223113  438.223113
#&gt; 20   142.703565  142.703565
#&gt; 21   392.833706  392.833706
#&gt; 22   496.217813  496.217813
#&gt; 23   639.299489  639.299489
#&gt; 24   669.838640  669.838640
#&gt; 25   251.321069  251.321069
#&gt; 26    49.088071   49.088071
#&gt; 27    51.319429   51.319429
#&gt; 28    21.116405   21.116405
#&gt; 29    18.524163   18.524163
#&gt; 30    14.258506   14.258506
#&gt; 31    14.655642   14.655642
#&gt; 32    33.422616   33.422616
#&gt; 33    25.665087   25.665087
#&gt; 34    59.504230   59.504230
#&gt; 35   102.071530  102.071530
#&gt; 36   161.895474  161.895474
#&gt; 37    31.546860   31.546860
#&gt; 38    60.752540   60.752540
#&gt; 39   439.713462  439.713462
#&gt; 40   978.177964  978.177964
#&gt; 41   969.672808  969.672808
#&gt; 42   958.938993  958.938993
#&gt; 43  1075.726731 1075.726731
#&gt; 44   526.629940  526.629940
#&gt; 45   491.766343  491.766343
#&gt; 46   500.445435  500.445435
#&gt; 47  1177.495728 1177.495728
#&gt; 48  1265.753428 1265.753428
#&gt; 49   831.075760  831.075760
#&gt; 50   723.813974  723.813974
#&gt; 51    48.393733   48.393733
#&gt; 52    22.281644   22.281644
#&gt; 53    13.499158   13.499158
#&gt; 54    13.371318   13.371318
#&gt; 55     7.988059    7.988059
#&gt; 56    13.294255   13.294255
#&gt; 57     4.606512    4.606512
#&gt; 58    41.981280   41.981280
#&gt; 59    53.878158   53.878158
#&gt; 60   134.639249  134.639249
#&gt; 61   277.830012  277.830012
#&gt; 62    62.100639   62.100639
#&gt; 63   766.651034  766.651034
#&gt; 64  1021.706850 1021.706850
#&gt; 65  1099.304433 1099.304433
#&gt; 66  1318.499679 1318.499679
#&gt; 67  1263.807376 1263.807376
#&gt; 68  1025.154169 1025.154169
#&gt; 69  1074.339333 1074.339333
#&gt; 70   567.855757  567.855757
#&gt; 71   462.824122  462.824122
#&gt; 72   846.060993  846.060993
#&gt; 73  1007.214895 1007.214895
#&gt; 74  1394.181840 1394.181840
#&gt; 75           NA          NA
#&gt; 76    49.184981   49.184981
#&gt; 77    14.903475   14.903475
#&gt; 78     5.145944    5.145944
#&gt; 79     4.748369    4.748369
#&gt; 80    16.461610   16.461610
#&gt; 81    22.136922   22.136922
#&gt; 82     6.197428    6.197428
#&gt; 83    63.791714   63.791714
#&gt; 84   183.294335  183.294335
#&gt; 85   333.510687  333.510687
#&gt; 86    75.932211   75.932211
#&gt; 87   660.341505  660.341505
#&gt; 88  1136.459489 1136.459489
#&gt; 89  1257.229528 1257.229528
#&gt; 90  1176.554313 1176.554313
#&gt; 91  1372.678420 1372.678420
#&gt; 92  1050.843637 1050.843637
#&gt; 93  1099.143114 1099.143114
#&gt; 94   619.240800  619.240800
#&gt; 95   644.440021  644.440021
#&gt; 96  1021.023407 1021.023407
#&gt; 97  1004.018257 1004.018257
#&gt; 98  1198.913962 1198.913962
#&gt; 99           NA          NA
#&gt; 100          NA          NA
#&gt; 101   99.972111   99.972111
#&gt; 102   20.625531   20.625531
#&gt; 103    2.822829    2.822829
#&gt; 104    2.985766    2.985766
#&gt; 105    8.512578    8.512578
#&gt; 106   28.688388   28.688388
#&gt; 107   68.452456   68.452456
#&gt; 108  160.779241  160.779241
#&gt; 109   49.612510   49.612510
#&gt; 110  232.578652  232.578652
#&gt; 111  351.300784  351.300784
#&gt; 112 1373.124926 1373.124926
#&gt; 113 1252.396726 1252.396726
#&gt; 114  992.550776  992.550776
#&gt; 115 1105.298524 1105.298524
#&gt; 116  835.442595  835.442595
#&gt; 117 1207.809291 1207.809291
#&gt; 118  799.810105  799.810105
#&gt; 119  601.169243  601.169243
#&gt; 120 1131.991535 1131.991535
#&gt; 121 1251.497538 1251.497538
#&gt; 122 1364.304713 1364.304713
#&gt; 123 1337.465957 1337.465957
#&gt; 124          NA          NA
#&gt; 125          NA          NA
#&gt; 126   93.004976   93.004976
#&gt; 127   31.498776   31.498776
#&gt; 128    1.277841    1.277841
#&gt; 129    1.441917    1.441917
#&gt; 130   11.099439   11.099439
#&gt; 131   58.641388   58.641388
#&gt; 132  125.364897  125.364897
#&gt; 133   76.535648   76.535648
#&gt; 134  106.398117  106.398117
#&gt; 135  196.264657  196.264657
#&gt; 136 1025.919483 1025.919483
#&gt; 137 1202.063351 1202.063351
#&gt; 138 1065.754732 1065.754732
#&gt; 139 1053.229336 1053.229336
#&gt; 140          NA          NA
#&gt; 141  625.290356  625.290356
#&gt; 142  794.004642  794.004642
#&gt; 143 1136.470178 1136.470178
#&gt; 144 1054.589975 1054.589975
#&gt; 145 1198.324828 1198.324828
#&gt; 146 1422.711459 1422.711459
#&gt; 147 1412.311876 1412.311876
#&gt; 148 1286.593628 1286.593628
#&gt; 149          NA          NA
#&gt; 150          NA          NA
#&gt; 151   73.897732   73.897732
#&gt; 152   40.592100   40.592100
#&gt; 153    3.910365    3.910365
#&gt; 154    4.824639    4.824639
#&gt; 155   29.499294   29.499294
#&gt; 156   29.079376   29.079376
#&gt; 157   78.968936   78.968936
#&gt; 158  184.642099  184.642099
#&gt; 159  149.913271  149.913271
#&gt; 160  220.604714  220.604714
#&gt; 161 1277.835041 1277.835041
#&gt; 162  862.142223  862.142223
#&gt; 163  667.758844  667.758844
#&gt; 164  703.701512  703.701512
#&gt; 165  537.992504  537.992504
#&gt; 166  807.539965  807.539965
#&gt; 167 1128.780402 1128.780402
#&gt; 168 1213.255445 1213.255445
#&gt; 169 1323.162071 1323.162071
#&gt; 170 1388.236010 1388.236010
#&gt; 171 1428.484884 1428.484884
#&gt; 172          NA          NA
#&gt; 173          NA          NA
#&gt; 174          NA          NA
#&gt; 175          NA          NA
#&gt; 176  118.785256  118.785256
#&gt; 177   18.119766   18.119766
#&gt; 178   15.498592   15.498592
#&gt; 179   14.560944   14.560944
#&gt; 180   35.850679   35.850679
#&gt; 181  110.314120  110.314120
#&gt; 182  124.955850  124.955850
#&gt; 183   28.664451   28.664451
#&gt; 184   31.200055   31.200055
#&gt; 185   92.061413   92.061413
#&gt; 186  258.922079  258.922079
#&gt; 187  684.652631  684.652631
#&gt; 188  993.198949  993.198949
#&gt; 189  639.481238  639.481238
#&gt; 190  658.302402  658.302402
#&gt; 191 1064.816754 1064.816754
#&gt; 192 1276.720978 1276.720978
#&gt; 193 1360.841680 1360.841680
#&gt; 194 1182.027036 1182.027036
#&gt; 195          NA          NA
#&gt; 196          NA          NA
#&gt; 197          NA          NA
#&gt; 198          NA          NA
#&gt; 199          NA          NA
#&gt; 200          NA          NA
#&gt; 201  123.650701  123.650701
#&gt; 202  145.116192  145.116192
#&gt; 203   48.045989   48.045989
#&gt; 204   60.359199   60.359199
#&gt; 205   81.507819   81.507819
#&gt; 206  108.451321  108.451321
#&gt; 207   63.776428   63.776428
#&gt; 208   20.418998   20.418998
#&gt; 209   33.355506   33.355506
#&gt; 210   88.573683   88.573683
#&gt; 211  298.914826  298.914826
#&gt; 212          NA          NA
#&gt; 213 1398.925758 1398.925758
#&gt; 214          NA          NA
#&gt; 215 1200.994991 1200.994991
#&gt; 216 1145.872629 1145.872629
#&gt; 217  899.925006  899.925006
#&gt; 218  738.948183  738.948183
#&gt; 219 1332.446264 1332.446264
#&gt; 220          NA          NA
#&gt; 221          NA          NA
#&gt; 222          NA          NA
#&gt; 223          NA          NA
#&gt; 224          NA          NA
#&gt; 225          NA          NA
#&gt; 226  148.411096  148.411096
#&gt; 227  277.487816  277.487816
#&gt; 228   97.262213   97.262213
#&gt; 229   90.056298   90.056298
#&gt; 230  139.666138  139.666138
#&gt; 231  102.826129  102.826129
#&gt; 232   18.268087   18.268087
#&gt; 233   44.717650   44.717650
#&gt; 234   91.994244   91.994244
#&gt; 235  579.301178  579.301178
#&gt; 236  829.460542  829.460542
#&gt; 237 1192.706140 1192.706140
#&gt; 238 1302.150322 1302.150322
#&gt; 239 1383.350908 1383.350908
#&gt; 240 1398.860545 1398.860545
#&gt; 241          NA          NA
#&gt; 242          NA          NA
#&gt; 243          NA          NA
#&gt; 244          NA          NA
#&gt; 245          NA          NA
#&gt; 246          NA          NA
#&gt; 247          NA          NA
#&gt; 248          NA          NA
#&gt; 249          NA          NA
#&gt; 250          NA          NA
#&gt; 251  219.828908  219.828908
#&gt; 252  253.159967  253.159967
#&gt; 253  161.398240  161.398240
#&gt; 254  233.493216  233.493216
#&gt; 255  164.022603  164.022603
#&gt; 256   30.894575   30.894575
#&gt; 257   83.088137   83.088137
#&gt; 258  108.862151  108.862151
#&gt; 259  229.800850  229.800850
#&gt; 260  356.712383  356.712383
#&gt; 261          NA          NA
#&gt; 262          NA          NA
#&gt; 263          NA          NA
#&gt; 264          NA          NA
#&gt; 265          NA          NA
#&gt; 266          NA          NA
#&gt; 267          NA          NA
#&gt; 268          NA          NA
#&gt; 269          NA          NA
#&gt; 270          NA          NA
#&gt; 271          NA          NA
#&gt; 272          NA          NA
#&gt; 273          NA          NA
#&gt; 274          NA          NA
#&gt; 275          NA          NA
#&gt; 276  221.718578  221.718578
#&gt; 277  332.692853  332.692853
#&gt; 278  213.463658  213.463658
#&gt; 279  243.120948  243.120948
#&gt; 280   63.730534   63.730534
#&gt; 281  147.329531  147.329531
#&gt; 282  700.109004  700.109004
#&gt; 283  972.574198  972.574198
#&gt; 284  534.244983  534.244983
#&gt; 285  632.502886  632.502886
#&gt; 286          NA          NA
#&gt; 287          NA          NA
#&gt; 288          NA          NA
#&gt; 289          NA          NA
#&gt; 290          NA          NA
#&gt; 291          NA          NA
#&gt; 292          NA          NA
#&gt; 293          NA          NA
#&gt; 294          NA          NA
#&gt; 295          NA          NA
#&gt; 296          NA          NA
#&gt; 297          NA          NA
#&gt; 298          NA          NA
#&gt; 299          NA          NA
#&gt; 300          NA          NA
#&gt; 301   95.553663   95.553663
#&gt; 302  126.688414  126.688414
#&gt; 303   52.805044   52.805044
#&gt; 304   41.873328   41.873328
#&gt; 305    9.222216    9.222216
#&gt; 306  120.766493  120.766493
#&gt; 307  241.896138  241.896138
#&gt; 308  477.623071  477.623071
#&gt; 309  307.530335  307.530335
#&gt; 310  213.983651  213.983651
#&gt; 311          NA          NA
#&gt; 312          NA          NA
#&gt; 313          NA          NA
#&gt; 314          NA          NA
#&gt; 315          NA          NA
#&gt; 316          NA          NA
#&gt; 317          NA          NA
#&gt; 318          NA          NA
#&gt; 319          NA          NA
#&gt; 320          NA          NA
#&gt; 321          NA          NA
#&gt; 322          NA          NA
#&gt; 323          NA          NA
#&gt; 324          NA          NA
#&gt; 325          NA          NA</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sam Woodman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


