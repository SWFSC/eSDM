<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate predicted abundance — model_abundance • eSDM</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate predicted abundance — model_abundance" />
<meta property="og:description" content="Calculates the predicted abundance by multiplying the density prediction values by prediction polygon areas" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eSDM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/example-analysis.html">Example analysis - Woodman et al 2019</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/smwoodman/eSDM/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate predicted abundance</h1>
    <small class="dont-index">Source: <a href='https://github.com/smwoodman/eSDM/blob/master/R/model_abundance.R'><code>R/model_abundance.R</code></a></small>
    <div class="hidden name"><code>model_abundance.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates the predicted abundance by multiplying the density prediction values by prediction polygon areas</p>
    </div>

    <pre class="usage"><span class='fu'>model_abundance</span>(<span class='no'>x</span>, <span class='no'>dens.idx</span>, <span class='kw'>sum.abund</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>object of class <code>sf</code>; SDM with density predictions.
Must have a valid crs code</p></td>
    </tr>
    <tr>
      <th>dens.idx</th>
      <td><p>name or index of column(s) in <code>x</code> with density predictions.
Can be a character vector (column names) or numeric vector (column indices)</p></td>
    </tr>
    <tr>
      <th>sum.abund</th>
      <td><p>logical; whether or not to sum all of the predicted abundances</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>sum.abund == TRUE</code>, then a vector of the same length as <code>dens.idx</code>
  representing the predicted abundance for the density values in each column.</p>
<p>If <code>sum.abund == FALSE</code> and the length of <code>dens.idx</code> is 1,
  then a numeric vector with the predicted abundance of each prediction polygon of <code>x</code>.</p>
<p>If <code>sum.abund == FALSE</code> and the length of <code>dens.idx</code> is greater than 1,
  then a data frame with <code><a href='https://rdrr.io/r/base/length.html'>length(dens.idx)</a></code> columns of the predicted abundance of prediction polygons</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Multiplies the values in the specified column(s) (i.e. the density predictions)
  by the area in square kilometers of their corresponding prediction polygon.
  The area of each prediction polygon is calculated using <code>st_area</code> from <code><a href='https://rdrr.io/pkg/sf/man/geos_measures.html'>geos_measures</a></code>.
  x must have a valid crs code to calculate area for these abundance calculations.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>model_abundance</span>(<span class='no'>preds.1</span>, <span class='st'>"Density"</span>)</div><div class='output co'>#&gt;  Density 
#&gt; 113746.5 </div><div class='input'><span class='fu'>model_abundance</span>(<span class='no'>preds.1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>))</div><div class='output co'>#&gt; [1] 113746.5 113746.5</div><div class='input'><span class='fu'>model_abundance</span>(<span class='no'>preds.1</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>), <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;         1.abund     1.abund
#&gt; 1     29.694692   29.694692
#&gt; 2      9.206602    9.206602
#&gt; 3     21.603062   21.603062
#&gt; 4      9.503845    9.503845
#&gt; 5     11.984480   11.984480
#&gt; 6     15.298464   15.298464
#&gt; 7      7.686818    7.686818
#&gt; 8      9.459501    9.459501
#&gt; 9     13.948896   13.948896
#&gt; 10    48.275487   48.275487
#&gt; 11    81.225826   81.225826
#&gt; 12    37.756303   37.756303
#&gt; 13    21.109040   21.109040
#&gt; 14    29.351664   29.351664
#&gt; 15   308.464960  308.464960
#&gt; 16   510.867257  510.867257
#&gt; 17   557.909056  557.909056
#&gt; 18   653.772706  653.772706
#&gt; 19   438.223086  438.223086
#&gt; 20   142.703556  142.703556
#&gt; 21   392.833681  392.833681
#&gt; 22   496.217782  496.217782
#&gt; 23   639.299448  639.299448
#&gt; 24   669.838598  669.838598
#&gt; 25   251.321053  251.321053
#&gt; 26    49.088068   49.088068
#&gt; 27    51.319426   51.319426
#&gt; 28    21.116404   21.116404
#&gt; 29    18.524162   18.524162
#&gt; 30    14.258505   14.258505
#&gt; 31    14.655641   14.655641
#&gt; 32    33.422614   33.422614
#&gt; 33    25.665085   25.665085
#&gt; 34    59.504226   59.504226
#&gt; 35   102.071523  102.071523
#&gt; 36   161.895465  161.895465
#&gt; 37    31.546858   31.546858
#&gt; 38    60.752537   60.752537
#&gt; 39   439.713436  439.713436
#&gt; 40   978.177906  978.177906
#&gt; 41   969.672751  969.672751
#&gt; 42   958.938936  958.938936
#&gt; 43  1075.726668 1075.726668
#&gt; 44   526.629908  526.629908
#&gt; 45   491.766313  491.766313
#&gt; 46   500.445405  500.445405
#&gt; 47  1177.495658 1177.495658
#&gt; 48  1265.753353 1265.753353
#&gt; 49   831.075711  831.075711
#&gt; 50   723.813931  723.813931
#&gt; 51    48.393730   48.393730
#&gt; 52    22.281642   22.281642
#&gt; 53    13.499157   13.499157
#&gt; 54    13.371317   13.371317
#&gt; 55     7.988059    7.988059
#&gt; 56    13.294254   13.294254
#&gt; 57     4.606512    4.606512
#&gt; 58    41.981277   41.981277
#&gt; 59    53.878155   53.878155
#&gt; 60   134.639241  134.639241
#&gt; 61   277.829997  277.829997
#&gt; 62    62.100636   62.100636
#&gt; 63   766.650992  766.650992
#&gt; 64  1021.706795 1021.706795
#&gt; 65  1099.304373 1099.304373
#&gt; 66  1318.499607 1318.499607
#&gt; 67  1263.807308 1263.807308
#&gt; 68  1025.154113 1025.154113
#&gt; 69  1074.339275 1074.339275
#&gt; 70   567.855726  567.855726
#&gt; 71   462.824097  462.824097
#&gt; 72   846.060947  846.060947
#&gt; 73  1007.214840 1007.214840
#&gt; 74  1394.181764 1394.181764
#&gt; 75           NA          NA
#&gt; 76    49.184978   49.184978
#&gt; 77    14.903474   14.903474
#&gt; 78     5.145944    5.145944
#&gt; 79     4.748368    4.748368
#&gt; 80    16.461609   16.461609
#&gt; 81    22.136921   22.136921
#&gt; 82     6.197428    6.197428
#&gt; 83    63.791711   63.791711
#&gt; 84   183.294326  183.294326
#&gt; 85   333.510671  333.510671
#&gt; 86    75.932207   75.932207
#&gt; 87   660.341472  660.341472
#&gt; 88  1136.459432 1136.459432
#&gt; 89  1257.229465 1257.229465
#&gt; 90  1176.554255 1176.554255
#&gt; 91  1372.678352 1372.678352
#&gt; 92  1050.843585 1050.843585
#&gt; 93  1099.143060 1099.143060
#&gt; 94   619.240769  619.240769
#&gt; 95   644.439989  644.439989
#&gt; 96  1021.023357 1021.023357
#&gt; 97  1004.018207 1004.018207
#&gt; 98  1198.913902 1198.913902
#&gt; 99           NA          NA
#&gt; 100          NA          NA
#&gt; 101   99.972107   99.972107
#&gt; 102   20.625530   20.625530
#&gt; 103    2.822829    2.822829
#&gt; 104    2.985765    2.985765
#&gt; 105    8.512578    8.512578
#&gt; 106   28.688387   28.688387
#&gt; 107   68.452453   68.452453
#&gt; 108  160.779234  160.779234
#&gt; 109   49.612508   49.612508
#&gt; 110  232.578641  232.578641
#&gt; 111  351.300769  351.300769
#&gt; 112 1373.124865 1373.124865
#&gt; 113 1252.396670 1252.396670
#&gt; 114  992.550731  992.550731
#&gt; 115 1105.298474 1105.298474
#&gt; 116  835.442557  835.442557
#&gt; 117 1207.809237 1207.809237
#&gt; 118  799.810069  799.810069
#&gt; 119  601.169216  601.169216
#&gt; 120 1131.991484 1131.991484
#&gt; 121 1251.497481 1251.497481
#&gt; 122 1364.304652 1364.304652
#&gt; 123 1337.465896 1337.465896
#&gt; 124          NA          NA
#&gt; 125          NA          NA
#&gt; 126   93.004972   93.004972
#&gt; 127   31.498775   31.498775
#&gt; 128    1.277841    1.277841
#&gt; 129    1.441917    1.441917
#&gt; 130   11.099438   11.099438
#&gt; 131   58.641385   58.641385
#&gt; 132  125.364892  125.364892
#&gt; 133   76.535644   76.535644
#&gt; 134  106.398113  106.398113
#&gt; 135  196.264649  196.264649
#&gt; 136 1025.919442 1025.919442
#&gt; 137 1202.063302 1202.063302
#&gt; 138 1065.754690 1065.754690
#&gt; 139 1053.229294 1053.229294
#&gt; 140          NA          NA
#&gt; 141  625.290331  625.290331
#&gt; 142  794.004610  794.004610
#&gt; 143 1136.470132 1136.470132
#&gt; 144 1054.589932 1054.589932
#&gt; 145 1198.324780 1198.324780
#&gt; 146 1422.711401 1422.711401
#&gt; 147 1412.311820 1412.311820
#&gt; 148 1286.593577 1286.593577
#&gt; 149          NA          NA
#&gt; 150          NA          NA
#&gt; 151   73.897729   73.897729
#&gt; 152   40.592099   40.592099
#&gt; 153    3.910365    3.910365
#&gt; 154    4.824639    4.824639
#&gt; 155   29.499293   29.499293
#&gt; 156   29.079375   29.079375
#&gt; 157   78.968933   78.968933
#&gt; 158  184.642093  184.642093
#&gt; 159  149.913266  149.913266
#&gt; 160  220.604706  220.604706
#&gt; 161 1277.834996 1277.834996
#&gt; 162  862.142192  862.142192
#&gt; 163  667.758821  667.758821
#&gt; 164  703.701487  703.701487
#&gt; 165  537.992485  537.992485
#&gt; 166  807.539937  807.539937
#&gt; 167 1128.780362 1128.780362
#&gt; 168 1213.255402 1213.255402
#&gt; 169 1323.162024 1323.162024
#&gt; 170 1388.235961 1388.235961
#&gt; 171 1428.484834 1428.484834
#&gt; 172          NA          NA
#&gt; 173          NA          NA
#&gt; 174          NA          NA
#&gt; 175          NA          NA
#&gt; 176  118.785252  118.785252
#&gt; 177   18.119765   18.119765
#&gt; 178   15.498591   15.498591
#&gt; 179   14.560943   14.560943
#&gt; 180   35.850678   35.850678
#&gt; 181  110.314117  110.314117
#&gt; 182  124.955846  124.955846
#&gt; 183   28.664450   28.664450
#&gt; 184   31.200054   31.200054
#&gt; 185   92.061410   92.061410
#&gt; 186  258.922071  258.922071
#&gt; 187  684.652610  684.652610
#&gt; 188  993.198919  993.198919
#&gt; 189  639.481219  639.481219
#&gt; 190  658.302382  658.302382
#&gt; 191 1064.816721 1064.816721
#&gt; 192 1276.720939 1276.720939
#&gt; 193 1360.841639 1360.841639
#&gt; 194 1182.027000 1182.027000
#&gt; 195          NA          NA
#&gt; 196          NA          NA
#&gt; 197          NA          NA
#&gt; 198          NA          NA
#&gt; 199          NA          NA
#&gt; 200          NA          NA
#&gt; 201  123.650698  123.650698
#&gt; 202  145.116188  145.116188
#&gt; 203   48.045987   48.045987
#&gt; 204   60.359197   60.359197
#&gt; 205   81.507816   81.507816
#&gt; 206  108.451318  108.451318
#&gt; 207   63.776426   63.776426
#&gt; 208   20.418998   20.418998
#&gt; 209   33.355505   33.355505
#&gt; 210   88.573681   88.573681
#&gt; 211  298.914818  298.914818
#&gt; 212          NA          NA
#&gt; 213 1398.925722 1398.925722
#&gt; 214          NA          NA
#&gt; 215 1200.994960 1200.994960
#&gt; 216 1145.872600 1145.872600
#&gt; 217  899.924983  899.924983
#&gt; 218  738.948164  738.948164
#&gt; 219 1332.446230 1332.446230
#&gt; 220          NA          NA
#&gt; 221          NA          NA
#&gt; 222          NA          NA
#&gt; 223          NA          NA
#&gt; 224          NA          NA
#&gt; 225          NA          NA
#&gt; 226  148.411093  148.411093
#&gt; 227  277.487810  277.487810
#&gt; 228   97.262211   97.262211
#&gt; 229   90.056296   90.056296
#&gt; 230  139.666135  139.666135
#&gt; 231  102.826127  102.826127
#&gt; 232   18.268087   18.268087
#&gt; 233   44.717649   44.717649
#&gt; 234   91.994242   91.994242
#&gt; 235  579.301165  579.301165
#&gt; 236  829.460525  829.460525
#&gt; 237 1192.706115 1192.706115
#&gt; 238 1302.150295 1302.150295
#&gt; 239 1383.350878 1383.350878
#&gt; 240 1398.860516 1398.860516
#&gt; 241          NA          NA
#&gt; 242          NA          NA
#&gt; 243          NA          NA
#&gt; 244          NA          NA
#&gt; 245          NA          NA
#&gt; 246          NA          NA
#&gt; 247          NA          NA
#&gt; 248          NA          NA
#&gt; 249          NA          NA
#&gt; 250          NA          NA
#&gt; 251  219.828905  219.828905
#&gt; 252  253.159963  253.159963
#&gt; 253  161.398237  161.398237
#&gt; 254  233.493212  233.493212
#&gt; 255  164.022600  164.022600
#&gt; 256   30.894574   30.894574
#&gt; 257   83.088135   83.088135
#&gt; 258  108.862149  108.862149
#&gt; 259  229.800847  229.800847
#&gt; 260  356.712378  356.712378
#&gt; 261          NA          NA
#&gt; 262          NA          NA
#&gt; 263          NA          NA
#&gt; 264          NA          NA
#&gt; 265          NA          NA
#&gt; 266          NA          NA
#&gt; 267          NA          NA
#&gt; 268          NA          NA
#&gt; 269          NA          NA
#&gt; 270          NA          NA
#&gt; 271          NA          NA
#&gt; 272          NA          NA
#&gt; 273          NA          NA
#&gt; 274          NA          NA
#&gt; 275          NA          NA
#&gt; 276  221.718576  221.718576
#&gt; 277  332.692849  332.692849
#&gt; 278  213.463656  213.463656
#&gt; 279  243.120945  243.120945
#&gt; 280   63.730533   63.730533
#&gt; 281  147.329529  147.329529
#&gt; 282  700.108996  700.108996
#&gt; 283  972.574187  972.574187
#&gt; 284  534.244977  534.244977
#&gt; 285  632.502879  632.502879
#&gt; 286          NA          NA
#&gt; 287          NA          NA
#&gt; 288          NA          NA
#&gt; 289          NA          NA
#&gt; 290          NA          NA
#&gt; 291          NA          NA
#&gt; 292          NA          NA
#&gt; 293          NA          NA
#&gt; 294          NA          NA
#&gt; 295          NA          NA
#&gt; 296          NA          NA
#&gt; 297          NA          NA
#&gt; 298          NA          NA
#&gt; 299          NA          NA
#&gt; 300          NA          NA
#&gt; 301   95.553662   95.553662
#&gt; 302  126.688413  126.688413
#&gt; 303   52.805044   52.805044
#&gt; 304   41.873327   41.873327
#&gt; 305    9.222216    9.222216
#&gt; 306  120.766492  120.766492
#&gt; 307  241.896136  241.896136
#&gt; 308  477.623067  477.623067
#&gt; 309  307.530333  307.530333
#&gt; 310  213.983649  213.983649
#&gt; 311          NA          NA
#&gt; 312          NA          NA
#&gt; 313          NA          NA
#&gt; 314          NA          NA
#&gt; 315          NA          NA
#&gt; 316          NA          NA
#&gt; 317          NA          NA
#&gt; 318          NA          NA
#&gt; 319          NA          NA
#&gt; 320          NA          NA
#&gt; 321          NA          NA
#&gt; 322          NA          NA
#&gt; 323          NA          NA
#&gt; 324          NA          NA
#&gt; 325          NA          NA</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sam Woodman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


